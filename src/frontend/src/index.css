@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --radius: 0.5rem;
        --background: 0.98 0 0;
        --foreground: 0.15 0 0;
        --card: 1 0 0;
        --card-foreground: 0.15 0 0;
        --popover: 1 0 0;
        --popover-foreground: 0.15 0 0;
        --primary: 0.45 0.15 145;
        --primary-foreground: 0.98 0 0;
        --secondary: 0.92 0 0;
        --secondary-foreground: 0.15 0 0;
        --muted: 0.95 0 0;
        --muted-foreground: 0.50 0 0;
        --accent: 0.92 0 0;
        --accent-foreground: 0.15 0 0;
        --destructive: 0.55 0.22 25;
        --destructive-foreground: 0.98 0 0;
        --border: 0.88 0 0;
        --input: 0.88 0 0;
        --ring: 0.45 0.15 145;
        --chart-1: 0.60 0.18 145;
        --chart-2: 0.55 0.20 85;
        --chart-3: 0.65 0.15 200;
        --chart-4: 0.70 0.18 35;
        --chart-5: 0.50 0.22 280;
    }

    .dark {
        --background: 0.12 0 0;
        --foreground: 0.95 0 0;
        --card: 0.16 0 0;
        --card-foreground: 0.95 0 0;
        --popover: 0.14 0 0;
        --popover-foreground: 0.95 0 0;
        --primary: 0.60 0.18 145;
        --primary-foreground: 0.12 0 0;
        --secondary: 0.22 0 0;
        --secondary-foreground: 0.95 0 0;
        --muted: 0.22 0 0;
        --muted-foreground: 0.65 0 0;
        --accent: 0.28 0 0;
        --accent-foreground: 0.95 0 0;
        --destructive: 0.60 0.20 25;
        --destructive-foreground: 0.95 0 0;
        --border: 0.28 0 0;
        --input: 0.28 0 0;
        --ring: 0.60 0.18 145;
        --chart-1: 0.65 0.20 145;
        --chart-2: 0.60 0.22 85;
        --chart-3: 0.70 0.18 200;
        --chart-4: 0.75 0.20 35;
        --chart-5: 0.55 0.24 280;
    }

    * {
        @apply border-border;
    }
    
    body {
        @apply bg-background text-foreground;
        font-feature-settings: "rlig" 1, "calt" 1;
    }
}

/* iOS Safe Area Support */
@supports (padding: env(safe-area-inset-top)) {
    .safe-area-container {
        padding-top: env(safe-area-inset-top);
        padding-bottom: env(safe-area-inset-bottom);
    }

    .safe-area-top {
        padding-top: max(0.5rem, env(safe-area-inset-top));
    }

    .safe-area-bottom {
        padding-bottom: max(0.5rem, env(safe-area-inset-bottom));
    }

    .safe-area-left {
        padding-left: max(0.5rem, env(safe-area-inset-left));
    }

    .safe-area-right {
        padding-right: max(0.5rem, env(safe-area-inset-right));
    }

    .safe-area-x {
        padding-left: max(1rem, env(safe-area-inset-left));
        padding-right: max(1rem, env(safe-area-inset-right));
    }
}

/* Touch Target Improvements for Mobile */
.touch-target {
    min-height: 44px;
    min-width: 44px;
}

/* Disable tap highlight on iOS */
* {
    -webkit-tap-highlight-color: transparent;
}

/* Improve touch scrolling on iOS */
body {
    -webkit-overflow-scrolling: touch;
}

@media print {
    @page {
        size: A4;
        margin: 0.5cm;
    }

    body {
        print-color-adjust: exact;
        -webkit-print-color-adjust: exact;
    }

    /* Hide non-printable elements */
    .no-print,
    button,
    nav,
    header:not(.print-page header),
    footer:not(.print-page footer) {
        display: none !important;
    }

    /* Print-specific table styling for multi-page support */
    .print-table {
        border-collapse: collapse;
        width: 100%;
    }

    .print-thead {
        display: table-header-group;
    }

    .print-row {
        page-break-inside: avoid;
        break-inside: avoid;
    }

    /* Prevent page breaks inside important elements */
    .print-page > div {
        page-break-inside: avoid;
        break-inside: avoid;
    }

    /* Allow tables to break across pages but keep rows together */
    table {
        page-break-inside: auto;
    }

    tr {
        page-break-inside: avoid;
        break-inside: avoid;
    }

    thead {
        display: table-header-group;
    }

    tfoot {
        display: table-footer-group;
    }

    /* Ensure borders print correctly */
    * {
        box-decoration-break: clone;
        -webkit-box-decoration-break: clone;
    }

    /* Remove shadows and backgrounds that might not print well */
    .print-page {
        box-shadow: none !important;
        background: white !important;
    }

    /* Ensure text is black for printing */
    .print-page * {
        color: black !important;
    }

    /* Keep borders visible */
    .print-page table,
    .print-page th,
    .print-page td,
    .print-page div {
        border-color: black !important;
    }
}

